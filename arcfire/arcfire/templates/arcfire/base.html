{% load staticfiles %}

<!DOCTYPE html>
<html>
<head>
    <title>Arcfire{% if window_title %} | {{ window_title | title }}{% endif %}</title>

    <!-- Presentation Metadata -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
    
    {% block js %}
        <script src="{% static 'arcfire/js/base.js' %}"></script>
    {% endblock js %}

    {% block css %}
        <link rel="stylesheet" type="text/css" href="{% static 'arcfire/bower_components/normalize-css/normalize.css' %}" />
        <link rel="stylesheet" type="text/css" href="{% static 'arcfire/css/typography.css' %}" />
        <link rel="stylesheet" type="text/css" href="{% static 'arcfire/css/base.css' %}" />


        <link rel='stylesheet' type='text/css'  href='https://fonts.googleapis.com/css?family=Libre+Baskerville:400,700' />
        <link rel='stylesheet' type='text/css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,700italic' />
    {% endblock css %}

</head>
<body>
    <main>
    {% block main %}

        <section id="introduction">
        {% block introduction %}
            <h1 id="page_title">{{ page_title }}</h1>
        {% endblock introduction %}
        </section><!-- / #introduction -->

        {% if messages %}
        <section id="messages">
        {% block messages %}
            <h3 class="section_title" class="sr_only">Messages</h3>
            <ul>
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
            </ul>
        {% endblock messages %}
        </section><!-- / #messages -->
        {% endif %}

        <section id="content">
        {% block content %}
            <p>The main content of this page.</p>
        {% endblock content %}
        </section><!-- / #content -->

    {% endblock main %}
    </main>

    <nav>
    {% block nav %}
        <h3>Navigation</h3>
        <div id="nav_container">

            {% if parent_pages %}
            <h4>Relative</h4>
            <ul id="nav_relative">
                <!-- Up -->
                {% for p in parent_pages %}
                <li><a href="{% url p.0 %}">{{ p.1 }}</a></li>
                {% endfor %}

                <!-- Previous -->
                {% if object %}
                    {% if object.get_prev %}
                    <li><a href="{{ object.get_prev.get_absolute_url }}">Prev: {{ object.get_prev.name }}</a></li>
                    {% endif %}
                {% endif %}

                <!-- Current -->
                <li>This: {{ page_title }}</li>

                <!-- Next -->
                {% if object %}
                    {% if object.get_next %}
                    <li><a href="{{ object.get_next.get_absolute_url }}">Next: {{ object.get_next.name }}</a></li>
                    {% endif %}
                {% endif %}
            </ul>
            {% endif %}

            <h4>Absolute</h4>
            <ul id="nav_absolute">
                {% for m in nav_models %}
                <li><a href="{% url m.url_name %}">{{ m.name_plural | title }}</a></li>
                {% endfor %}

                {% if user.is_authenticated %}
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                {% else %}
                    <li><a href="{% url 'login' %}">Login</a></li>
                {% endif %}
            </ul>

        </div>
    {% endblock nav %}
    </nav>
</body>
</html>